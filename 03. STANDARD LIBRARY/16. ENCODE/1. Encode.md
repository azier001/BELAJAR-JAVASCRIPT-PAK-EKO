# 🔐 Encode

- Saat kita menulis URL, kadang kita ingin menambahkan informasi tambahan seperti query parameter misalnya
- URL sendiri sudah memiliki standard encoding penulisan URL
- Standard encoding ini dilakukan agar penulisan URL aman ketika diterima oleh server
- Aman disini dalam artian informasi URL tidak berubah
- Contoh paling sederhana, misal, walaupun kita bisa mengirim spasi dalam url, tapi disarankan untuk di encode agar nilai spasi tidak benar-benar terlihat seperti spasi pada URL nya

## ⚠️ Contoh Masalah Jika Tidak Menggunakan Encode

- Misal ada query parameter dengan nama data, lalu kita ingin mengirimkan nilai kesana
- Misal nilainya adalah &eko=eko&, alhasil URL nya akan seperti berikut
- http://contoh.com?data=&eko=eko&
- URL diatas terlihat tidak ada masalah, tapi sebenarnya ketika diterima oleh server, parameter data bernilai kosong, kenapa? karena & dianggap sebagai pemisah antar parameter
- Artinya tanda seperti & dan lain-lain perlu di encode, agar tidak terjadi kesalahan data yang kita kirim

## 🛠️ Encode Function

| Function | Keterangan |
|----------|-----------|
| encodeURI(value) | Melakukan encode value, namun karakter yang dipesan di URI tidak akan diubah :,/?:@&=+$# |
| encodeURIComponent(value) | Melakukan encode value semua karakter |
| decodeURI(encoded) | Melakukan decode value hasil encodeURI() |
| decodeURIComponent(encoded) | Melakukan decode value hasil encodeURIComponent() |

---

## 📝 Contoh Kode

### 1️⃣ Menggunakan encodeURI()

**Penjelasan:** `encodeURI()` digunakan untuk encode URL lengkap, tetapi tidak mengubah karakter khusus yang merupakan bagian dari struktur URI seperti `:`, `/`, `?`, `&`, `=`, `+`, `$`, `#`

```javascript
const url = "http://contoh.com/hello world.html";
const encoded = encodeURI(url);

console.log(encoded);
```

**Output:**
```
http://contoh.com/hello%20world.html
```

> ✨ **Perhatikan:** Spasi diubah menjadi `%20`, tetapi karakter struktur URI seperti `://` dan `/` tetap tidak berubah.

---

### 2️⃣ Menggunakan encodeURIComponent()

**Penjelasan:** `encodeURIComponent()` digunakan untuk encode nilai parameter atau komponen URI. Fungsi ini akan meng-encode **semua** karakter khusus termasuk karakter struktur URI.

```javascript
const value = "&eko=eko&";
const encoded = encodeURIComponent(value);

console.log(encoded);
console.log("http://contoh.com?data=" + encoded);
```

**Output:**
```
%26eko%3Deko%26
http://contoh.com?data=%26eko%3Deko%26
```

> ✨ **Perhatikan:** Karakter `&` diubah menjadi `%26` dan `=` diubah menjadi `%3D`, sehingga nilai parameter tidak akan salah diinterpretasikan oleh server.

---

### 3️⃣ Perbandingan encodeURI() vs encodeURIComponent()

**Penjelasan:** Mari kita lihat perbedaan hasil encode antara kedua fungsi untuk nilai yang sama.

```javascript
const text = "Hello World! @#$%";

console.log("encodeURI:", encodeURI(text));
console.log("encodeURIComponent:", encodeURIComponent(text));
```

**Output:**
```
encodeURI: Hello%20World!%20@#$%25
encodeURIComponent: Hello%20World!%20%40%23%24%25
```

> 💡 **Tip:** Gunakan `encodeURI()` untuk encode URL lengkap, gunakan `encodeURIComponent()` untuk encode nilai parameter!

---

### 4️⃣ Menggunakan decodeURI()

**Penjelasan:** `decodeURI()` digunakan untuk decode URL yang telah di-encode dengan `encodeURI()`.

```javascript
const encodedURL = "http://contoh.com/hello%20world.html";
const decoded = decodeURI(encodedURL);

console.log(decoded);
```

**Output:**
```
http://contoh.com/hello world.html
```

> ✨ **Perhatikan:** `%20` dikembalikan menjadi spasi.

---

### 5️⃣ Menggunakan decodeURIComponent()

**Penjelasan:** `decodeURIComponent()` digunakan untuk decode nilai yang telah di-encode dengan `encodeURIComponent()`.

```javascript
const encodedValue = "%26eko%3Deko%26";
const decoded = decodeURIComponent(encodedValue);

console.log(decoded);
```

**Output:**
```
&eko=eko&
```

> ✨ **Perhatikan:** Nilai yang telah di-encode dikembalikan ke bentuk aslinya.

---

### 6️⃣ Contoh Praktis: Membuat URL dengan Query Parameter

**Penjelasan:** Contoh real-world dalam membuat URL dengan query parameter yang aman.

```javascript
const baseURL = "http://contoh.com/search";
const params = {
  q: "JavaScript & Node.js",
  category: "programming",
  sort: "newest"
};

// Membuat query string dengan encodeURIComponent
const queryString = Object.keys(params)
  .map(key => `${key}=${encodeURIComponent(params[key])}`)
  .join("&");

const fullURL = `${baseURL}?${queryString}`;

console.log(fullURL);
```

**Output:**
```
http://contoh.com/search?q=JavaScript%20%26%20Node.js&category=programming&sort=newest
```

> 🎯 **Best Practice:** Selalu gunakan `encodeURIComponent()` untuk encode nilai parameter agar karakter khusus tidak menyebabkan error!

---

## 📚 Kesimpulan

- ✅ Gunakan **encodeURI()** untuk encode URL lengkap
- ✅ Gunakan **encodeURIComponent()** untuk encode nilai parameter
- ✅ Gunakan **decodeURI()** untuk decode hasil encodeURI()
- ✅ Gunakan **decodeURIComponent()** untuk decode hasil encodeURIComponent()
- ⚠️ Selalu encode data sebelum mengirimkannya via URL untuk menghindari error parsing!
