# ğŸ“ Eval

## ğŸ¯ Pengertian

- Eval merupakan function yang digunakan untuk mengeksekusi kode JavaScript dari String
- Fitur ini sangat menarik, namun perlu hati-hati ketika menggunakannya
- Jika sampai salah penggunaan, maka bisa jadi kita malah mengeksekusi kode program yang bisa menyebabkan masalah keamanan di website kita
- https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval

---

## ğŸ’» Contoh Penggunaan Eval

### ğŸ“Œ Contoh 1: Mengevaluasi Ekspresi Matematika

**Kode:**
```javascript
const result = eval("2 + 2");
console.log(result);
```

**Output:**
```
4
```

**Penjelasan:** Eval mengeksekusi string "2 + 2" sebagai kode JavaScript dan mengembalikan hasilnya yaitu 4.

---

### ğŸ“Œ Contoh 2: Mengevaluasi String dengan Variabel

**Kode:**
```javascript
const x = 10;
const y = 20;
const result = eval("x + y");
console.log(result);
```

**Output:**
```
30
```

**Penjelasan:** Eval dapat mengakses variabel yang sudah dideklarasikan sebelumnya dan melakukan operasi pada variabel tersebut.

---

### ğŸ“Œ Contoh 3: Mengeksekusi Kode JavaScript Kompleks

**Kode:**
```javascript
const code = "const nama = 'John'; const umur = 25; nama + ' berumur ' + umur + ' tahun'";
const result = eval(code);
console.log(result);
```

**Output:**
```
John berumur 25 tahun
```

**Penjelasan:** Eval dapat mengeksekusi beberapa statement JavaScript sekaligus dalam satu string.

---

### ğŸ“Œ Contoh 4: Mengevaluasi Function

**Kode:**
```javascript
const functionString = "(function() { return 'Hello from eval!'; })()";
const result = eval(functionString);
console.log(result);
```

**Output:**
```
Hello from eval!
```

**Penjelasan:** Eval dapat mengeksekusi dan menjalankan function yang didefinisikan dalam bentuk string.

---

## âš ï¸ Peringatan Keamanan

> **PENTING:** Eval sangat berbahaya jika digunakan dengan input dari user yang tidak dipercaya!

### ğŸš¨ Contoh Bahaya Eval

**Kode Berbahaya:**
```javascript
// JANGAN LAKUKAN INI!
const userInput = "alert('Hacked!'); window.location = 'http://malicious-site.com'";
eval(userInput); // Ini akan mengeksekusi kode berbahaya!
```

**Penjelasan:** Jika eval digunakan dengan input dari user, hacker bisa menyisipkan kode JavaScript berbahaya yang dapat mencuri data atau merusak website.

---

## âœ… Alternatif Aman Pengganti Eval

### ğŸ”’ Menggunakan JSON.parse() untuk Data

**Kode:**
```javascript
// Daripada menggunakan eval untuk parsing data
const data = '{"nama": "John", "umur": 25}';
const result = JSON.parse(data);
console.log(result.nama);
```

**Output:**
```
John
```

**Penjelasan:** Untuk parsing data JSON, gunakan `JSON.parse()` yang lebih aman daripada eval.

---

### ğŸ”’ Menggunakan Function Constructor

**Kode:**
```javascript
const add = new Function('a', 'b', 'return a + b');
console.log(add(5, 3));
```

**Output:**
```
8
```

**Penjelasan:** Function constructor lebih aman karena kode yang dieksekusi berada dalam scope terpisah dan tidak dapat mengakses variabel lokal.

---

## ğŸ“ Kesimpulan

- âœ… Eval powerful tapi berbahaya
- âš ï¸ Hindari menggunakan eval dengan input dari user
- ğŸ” Selalu gunakan alternatif yang lebih aman seperti `JSON.parse()` atau `Function Constructor`
- ğŸ“š Jika harus menggunakan eval, pastikan input sudah divalidasi dan disanitasi dengan ketat
