# ğŸ“¤ Mengirim Data dengan AJAX

## ğŸ¯ Apa itu Mengirim Data dengan AJAX?

Sebelumnya kita sudah belajar bagaimana **mengambil data dari Server** menggunakan AJAX. Namun, AJAX tidak hanya untuk mengambil data saja!

### ğŸ“ Penjelasan Konsep

- **Mengambil Data (GET)** ğŸ“¥
  - Saat kita menggunakan AJAX, biasanya bukan hanya untuk mengambil data dari Server
  - Contoh: Menampilkan daftar produk, berita, atau informasi lainnya

- **Mengirim Data (POST)** ğŸ“¤
  - Kadang kita juga ingin mengirim data dari Client ke Server
  - Misalnya kita membaca semua data di Web Form (username, password, dll)
  - Lalu mengirimkan ke Server menggunakan AJAX
  - Contoh: Login, registrasi, submit form tanpa reload halaman

### ğŸ”§ Cara Mengirim Data

- Untuk melakukan ini, kita bisa menambahkan **parameter data** yang akan kita kirim pada method `send()` milik XMLHttpRequest

- **Dokumentasi Resmi:** https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send

---

## ğŸ’» Kode : Web Form

Pertama, kita buat form HTML sederhana untuk input username dan password:

```html
<form>
    <label for="username">
        Username :
        <input type="text" id="username" name="username">
    </label>
    <br>
    <label for="password">
        Password :
        <input type="password" id="password" name="password">
    </label>
    <br>
    <input type="button" id="login" value="Login">
</form>
```

### ğŸ“– Penjelasan Kode Form:

- `<form>` - Tag pembungkus untuk form
- `<label for="username">` - Label untuk input username, `for` menghubungkan dengan id input
- `<input type="text" id="username">` - Input text untuk username dengan id "username"
- `<input type="password" id="password">` - Input password untuk password (otomatis ter-hidden)
- `<input type="button" id="login">` - Tombol login dengan id "login"

### ğŸ–¼ï¸ Tampilan Output:

Form akan menampilkan:
- Field **Username** (text biasa)
- Field **Password** (text tersembunyi dengan bullet/dot)
- Tombol **Login**

---

## ğŸš€ Kode : Mengirim Data dengan AJAX

Sekarang kita buat JavaScript untuk mengirim data form ke server:

```javascript
function doLogin() {
    const ajax = new XMLHttpRequest();
    ajax.open("POST", "https://jsonplaceholder.typicode.com/posts");
    ajax.onload = function () {
        console.info(ajax.responseText);
    }
    
    ajax.setRequestHeader('Content-Type', 'application/json');
    ajax.send(JSON.stringify({
        username: document.getElementById("username").value,
        password: document.getElementById("password").value
    }));
}

document.getElementById('login').onclick = doLogin;
```

### ğŸ“– Penjelasan Kode JavaScript:

**1. Membuat Fungsi doLogin()**
```javascript
function doLogin() {
```
- Fungsi yang akan dijalankan saat tombol login diklik

**2. Membuat Object XMLHttpRequest**
```javascript
const ajax = new XMLHttpRequest();
```
- Membuat object AJAX baru untuk komunikasi dengan server

**3. Membuka Koneksi**
```javascript
ajax.open("POST", "https://jsonplaceholder.typicode.com/posts");
```
- `"POST"` - Method HTTP untuk **mengirim** data (bukan GET yang untuk mengambil)
- URL tujuan adalah API testing gratis dari JSONPlaceholder

**4. Menangani Response**
```javascript
ajax.onload = function () {
    console.info(ajax.responseText);
}
```
- Saat request selesai, tampilkan response dari server di console browser
- Buka **Developer Tools (F12)** > **Console** untuk melihat hasilnya

**5. Set Header Content-Type**
```javascript
ajax.setRequestHeader('Content-Type', 'application/json');
```
- Memberitahu server bahwa kita mengirim data dalam format **JSON**
- Header ini **WAJIB** ditambahkan sebelum `send()`

**6. Mengirim Data**
```javascript
ajax.send(JSON.stringify({
    username: document.getElementById("username").value,
    password: document.getElementById("password").value
}));
```
- `document.getElementById("username").value` - Mengambil nilai dari input username
- `document.getElementById("password").value` - Mengambil nilai dari input password
- `JSON.stringify()` - Mengubah object JavaScript menjadi string JSON
- `ajax.send()` - Mengirim data ke server

**7. Event Handler Tombol**
```javascript
document.getElementById('login').onclick = doLogin;
```
- Saat tombol dengan id "login" diklik, jalankan fungsi `doLogin()`

---

## âœ… Output / Hasil

### ğŸ“ Contoh Input:
```
Username: johndoe
Password: secret123
```

### ğŸ“¤ Data yang Dikirim (JSON):
```json
{
  "username": "johndoe",
  "password": "secret123"
}
```

### ğŸ“¥ Response dari Server (Console Browser):
```json
{
  "username": "johndoe",
  "password": "secret123",
  "id": 101
}
```

**Penjelasan Response:**
- Server menerima data yang kita kirim
- Server mengembalikan data yang sama plus **id baru** (101)
- Ini berarti data **berhasil dikirim dan diterima** oleh server
- Response ini bisa dilihat di **Console Browser** (F12 > Console)

---

## ğŸ“ Rangkuman Pembelajaran

### âœ¨ Yang Sudah Dipelajari:

1. **Perbedaan GET vs POST**
   - GET = Mengambil data ğŸ“¥
   - POST = Mengirim data ğŸ“¤

2. **Cara Mengambil Nilai dari Form**
   - Menggunakan `document.getElementById("id").value`

3. **Cara Mengirim Data JSON**
   - Set header: `setRequestHeader('Content-Type', 'application/json')`
   - Konversi ke JSON: `JSON.stringify(object)`
   - Kirim: `ajax.send(jsonData)`

4. **Cara Melihat Hasil**
   - Gunakan `console.info()` atau `console.log()`
   - Buka Developer Tools (F12) > Console

---

## ğŸ’¡ Tips untuk Pemula

- âš ï¸ **Jangan lupa** `setRequestHeader()` sebelum `send()` saat mengirim JSON
- ğŸ” **Selalu cek Console** untuk melihat error atau response
- ğŸ§ª **Gunakan JSONPlaceholder** untuk testing tanpa perlu setup server
- ğŸ“š **Latihan bertahap**: Mulai dari form sederhana, lalu tambah field kompleks
- ğŸ¯ **Next Step**: Pelajari cara menampilkan response di halaman (bukan hanya console)
