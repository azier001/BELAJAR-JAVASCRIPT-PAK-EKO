# ğŸ¯ Await di JavaScript

## ğŸ“š Apa itu Await?

**Await** adalah kata kunci khusus di JavaScript yang digunakan untuk **menunggu** hasil dari sebuah Promise. Bayangkan seperti kamu menunggu pesanan makanan - kamu harus menunggu sampai makanannya siap sebelum bisa memakannya! ğŸ•

---

## âœ¨ Aturan Penting

- â³ **Await digunakan untuk mendapatkan value hasil dari Promise**
- ğŸ”’ **Await hanya bisa digunakan dalam Async Function**

> ğŸ’¡ **Catatan Penting:** Tanpa `async`, kamu tidak bisa menggunakan `await`!

---

## ğŸš€ Kenapa Menggunakan Await?

Sebelum ada `await`, kita harus menggunakan `.then()` yang kadang membuat kode menjadi rumit dan sulit dibaca. Dengan `await`, kode kita menjadi lebih **sederhana** dan **mudah dipahami**! âœ¨

**Perbandingan:**
- âŒ **Tanpa Await:** Harus pakai `.then()` berkali-kali (seperti tangga bertingkat)
- âœ… **Dengan Await:** Kode terlihat seperti kode biasa yang berurutan

---

## ğŸ“ Persiapan File

Sebelum memulai, pastikan kamu punya file `product.json` di folder `api/`:

**ğŸ“‚ Struktur Folder:**
```
project/
  â”œâ”€â”€ api/
  â”‚   â””â”€â”€ product.json
  â””â”€â”€ index.html
```

**ğŸ“„ File: api/product.json**
```json
{
  "id": "1234",
  "name": "Iphone",
  "price": 30000000
}
```

> ğŸ’¾ **Penjelasan Data:**
> - `id`: Nomor identitas produk
> - `name`: Nama produk (Iphone)
> - `price`: Harga produk (30 juta rupiah)

---

## ğŸ’» Contoh Kode Lengkap

### ğŸ“ File: index.html

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Await</title>
  </head>
  <body>
    <script>
      // Function untuk mengambil data produk dari file JSON
      // Mengembalikan Promise yang berisi data produk
      const getProduct = () => {
        const response = fetch('api/product.json'); // Ambil data dari file JSON
        return response.then((response) => response.json()); // Ubah response jadi JSON
      };

      // â¬‡ï¸ CARA 1: Memanggil getProduct langsung (di-comment untuk test cara lain)
      // Uncomment baris ini jika ingin lihat seluruh data produk
      // getProduct().then((product) => console.log(product));

      // â¬‡ï¸ CARA 2: Mengambil nama produk menggunakan Promise (cara lama)
      const getProductNamePromise = () => {
        return new Promise((resolve, reject) => {
          getProduct() // Ambil data produk
            .then((product) => resolve(product.name)) // Ambil nama produk
            .catch((error) => reject(error)); // Tangkap error jika ada
        });
      };

      // Panggil function dan tampilkan nama produk
      getProductNamePromise().then((productName) => console.log(productName));

      // â¬‡ï¸ CARA 3: Mengambil nama produk menggunakan Async/Await (cara modern)
      const getProductNameAsync = async () => {
        const product = await getProduct(); // Tunggu sampai data produk didapat
        return product.name; // Kembalikan nama produk
      };

      // Panggil function dan tampilkan nama produk
      getProductNameAsync().then((productName) => console.log(productName));
    </script>
  </body>
</html>
```

---

## ğŸ” Penjelasan Kode Step by Step

### 1ï¸âƒ£ **Function `getProduct()` - Mengambil Data Produk**

```javascript
// Function untuk mengambil data produk dari file JSON
// Mengembalikan Promise yang berisi data produk
const getProduct = () => {
  const response = fetch('api/product.json'); // Ambil data dari file JSON
  return response.then((response) => response.json()); // Ubah response jadi JSON
};
```

**ğŸ“– Penjelasan:**
- `fetch()` digunakan untuk mengambil data dari file JSON
- `.then()` mengubah response menjadi format JSON yang bisa dibaca
- Function ini **mengembalikan Promise** yang berisi data produk

**ğŸ¯ Output yang dikembalikan:**
```javascript
{
  id: "1234",
  name: "Iphone",
  price: 30000000
}
```

---

### ğŸ§ª **CARA 1: Test Langsung (Optional)**

```javascript
// â¬‡ï¸ CARA 1: Memanggil getProduct langsung (di-comment untuk test cara lain)
// Uncomment baris ini jika ingin lihat seluruh data produk
// getProduct().then((product) => console.log(product));
```

**ğŸ“– Penjelasan:**
- Kode ini di-**comment** karena hanya untuk testing/percobaan
- Jika kamu uncomment (hapus `//`), akan menampilkan **semua data produk**
- Berguna untuk mengecek apakah data berhasil diambil

**âœ… Output jika di-uncomment:**
```javascript
{
  id: "1234",
  name: "Iphone", 
  price: 30000000
}
```

> ğŸ’¡ **Kapan pakai:** Saat kamu mau cek apakah file JSON berhasil dibaca atau tidak

---

### 2ï¸âƒ£ **Function `getProductNamePromise()` - Cara Lama (Pakai .then())**

```javascript
// â¬‡ï¸ CARA 2: Mengambil nama produk menggunakan Promise (cara lama)
const getProductNamePromise = () => {
  return new Promise((resolve, reject) => {
    getProduct() // Ambil data produk
      .then((product) => resolve(product.name)) // Ambil nama produk
      .catch((error) => reject(error)); // Tangkap error jika ada
  });
};

// Panggil function dan tampilkan nama produk
getProductNamePromise().then((productName) => console.log(productName));
```

**ğŸ“– Penjelasan:**
- Membuat Promise baru secara manual
- Memanggil `getProduct()` untuk mendapatkan data
- Menggunakan `.then()` untuk mengambil `product.name`
- Jika ada error, akan ditangkap oleh `.catch()`

**âš ï¸ Kekurangan:**
- Kode jadi berlapis-lapis (nested)
- Lebih sulit dibaca untuk pemula
- Harus buat Promise baru secara manual

**âœ… Output di Console:**
```
Iphone
```

---

### 3ï¸âƒ£ **Function `getProductNameAsync()` - Cara Modern (Pakai Await)** ğŸŒŸ

```javascript
// â¬‡ï¸ CARA 3: Mengambil nama produk menggunakan Async/Await (cara modern)
const getProductNameAsync = async () => {
  const product = await getProduct(); // Tunggu sampai data produk didapat
  return product.name; // Kembalikan nama produk
};

// Panggil function dan tampilkan nama produk
getProductNameAsync().then((productName) => console.log(productName));
```

**ğŸ“– Penjelasan:**
- `async` membuat function bisa menggunakan `await`
- `await getProduct()` **menunggu** sampai data produk didapat
- Setelah dapat data, langsung ambil `product.name`
- Kode lebih sederhana dan mudah dibaca! ğŸ‰

**âœ¨ Keuntungan:**
- Kode terlihat seperti kode synchronous biasa
- Tidak perlu buat Promise baru
- Lebih mudah dipahami pemula
- Lebih sedikit kode yang ditulis

**âœ… Output di Console:**
```
Iphone
```

---

## ğŸ“Š Hasil Output Lengkap

Ketika kamu jalankan kode di atas, di **Console Browser** akan muncul:

```
Iphone
Iphone
```

**ğŸ” Kenapa muncul 2 kali?**
- Baris pertama dari `getProductNamePromise()` (cara lama)
- Baris kedua dari `getProductNameAsync()` (cara modern)

**âœ¨ Keduanya menghasilkan output yang sama, tapi cara modern lebih mudah dibaca!**

---

## ğŸ“ Kesimpulan

### âœ… Yang Perlu Diingat:

1. **Await selalu digunakan di dalam Async Function**
   ```javascript
   async function namaFunction() {
     await sesuatu();
   }
   ```

2. **Await membuat kode lebih mudah dibaca**
   - Tidak perlu `.then()` bertingkat
   - Kode terlihat berurutan dari atas ke bawah

3. **Await "menunggu" Promise selesai**
   - Seperti menunggu pesanan makanan selesai dibuat
   - Baru lanjut ke kode berikutnya

### ğŸ’¡ Tips untuk Pemula:

- ğŸ¯ Gunakan `async/await` untuk kode yang lebih bersih
- ğŸ“š Latihan dengan contoh sederhana dulu
- ğŸ” Cek console browser untuk melihat hasilnya
- âš ï¸ Jangan lupa tambahkan `async` sebelum function jika mau pakai `await`

---

## ğŸ‰ Selamat Belajar!

Kamu sudah belajar konsep `await` di JavaScript! Terus latihan dan eksperimen dengan kode sendiri ya! ğŸ’ªâœ¨

> ğŸš€ **Next Step:** Coba buat function sendiri yang mengambil data lain menggunakan `async/await`!
