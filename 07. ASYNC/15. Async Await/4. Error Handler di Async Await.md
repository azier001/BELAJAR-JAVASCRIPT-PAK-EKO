# ğŸ›¡ï¸ Error Handler di Async Await

## ğŸ“š Pengenalan

Ketika bekerja dengan **Promise** dan **Async/Await** di JavaScript, kemungkinan terjadi error selalu ada. Misalnya ketika mengambil data dari server, file tidak ditemukan, atau koneksi internet terputus. Oleh karena itu, kita perlu menangani error dengan baik agar aplikasi tidak crash.

---

## ğŸ¤” Perbedaan Error Handling: Promise vs Async/Await

### âœ… Pada Promise
- Saat menggunakan **Promise**, kita bisa menangani error dengan method `.catch()` 
- Contoh: `promise.then(sukses).catch(error)`

### âœ… Pada Async/Await  
- Pada **Async/Await**, kita menggunakan blok **`try...catch`**
- Blok `try` untuk kode yang mungkin error
- Blok `catch` untuk menangkap dan menangani error

---

## ğŸ’¡ Mengapa Perlu Error Handling?

- âš ï¸ Mencegah aplikasi crash ketika terjadi error
- ğŸ” Memberikan informasi yang jelas tentang masalah yang terjadi
- ğŸ‘¤ Memberikan pengalaman yang lebih baik untuk user
- ğŸ› Memudahkan debugging dan mencari bug

---

## ğŸ“ Contoh Kode Lengkap

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Try Catch Async Await</title>
  </head>
  <body>
    <script>
      // Fungsi untuk mengambil data product dari API
      // Return: Promise<JSON Product>
      const getProduct = () => {
        // URL yang benar (di-comment karena untuk simulasi error)
        // const response = fetch('api/product.json');
        
        // URL yang salah (tidak ada file ini, akan menyebabkan error)
        const response = fetch('api/productsalah.json');

        // Mengubah response menjadi JSON
        return response.then((response) => response.json());
      };

      // Contoh pemanggilan biasa (di-comment)
      // getProduct().then((product) => console.log(product));

      // Fungsi async untuk mendapatkan nama product dengan error handling
      const getProductNameAsync = async () => {
        try {
          // TRY: Mencoba mengambil data product
          const product = await getProduct();

          // Jika berhasil, return nama product
          return product.name;
        } catch (error) {
          // CATCH: Jika terjadi error, tangkap dan return pesan alternatif
          return 'Product not found';
        }
      };

      // Memanggil fungsi dan menampilkan hasilnya di console
      getProductNameAsync().then((productName) => console.log(productName));
    </script>
  </body>
</html>
```

---

## ğŸ” Penjelasan Kode Step by Step

### 1ï¸âƒ£ **Fungsi `getProduct()`**
```javascript
const getProduct = () => {
  const response = fetch('api/productsalah.json');
  return response.then((response) => response.json());
};
```

**Penjelasan:**
- Fungsi ini mencoba mengambil data dari file `productsalah.json`
- File tersebut **tidak ada**, sehingga akan menghasilkan error
- `fetch()` mengembalikan Promise yang kemudian diubah menjadi JSON

---

### 2ï¸âƒ£ **Fungsi `getProductNameAsync()` dengan Try-Catch**
```javascript
const getProductNameAsync = async () => {
  try {
    const product = await getProduct();
    return product.name;
  } catch (error) {
    return 'Product not found';
  }
};
```

**Penjelasan:**
- **`try`** â†’ Blok kode yang akan dijalankan dan mungkin menghasilkan error
  - `await getProduct()` mencoba mengambil data product
  - Jika berhasil, ambil `product.name`
  
- **`catch`** â†’ Blok kode yang akan dijalankan jika terjadi error
  - Menangkap error yang terjadi
  - Mengembalikan pesan `'Product not found'` sebagai alternatif

---

### 3ï¸âƒ£ **Memanggil Fungsi**
```javascript
getProductNameAsync().then((productName) => console.log(productName));
```

**Penjelasan:**
- Memanggil fungsi `getProductNameAsync()`
- Karena fungsi async mengembalikan Promise, kita gunakan `.then()`
- Hasil akhir ditampilkan di console

---

## ğŸ“¤ Output

Karena file `api/productsalah.json` tidak ada, terjadi error saat fetch. Error ini ditangkap oleh blok `catch`, sehingga output yang muncul adalah:

```
Product not found
```

### ğŸ¯ Tanpa Error Handling

Jika kita **tidak** menggunakan `try...catch`, maka yang terjadi adalah:
- âŒ Aplikasi akan crash
- âŒ Console akan menampilkan error merah yang sulit dipahami user
- âŒ Tidak ada feedback yang jelas untuk user

### âœ… Dengan Error Handling

Dengan menggunakan `try...catch`:
- âœ… Aplikasi tetap berjalan
- âœ… User mendapat pesan yang jelas: `"Product not found"`
- âœ… Developer dapat menambahkan logika alternatif

---

## ğŸ“ Kesimpulan

- ğŸ”¹ **Try-Catch** adalah cara untuk menangani error di Async/Await
- ğŸ”¹ Blok **`try`** berisi kode yang mungkin error
- ğŸ”¹ Blok **`catch`** berisi kode penanganan error
- ğŸ”¹ Error handling membuat aplikasi lebih **robust** dan **user-friendly**
- ğŸ”¹ Selalu gunakan error handling saat bekerja dengan operasi async seperti fetch API

---

## ğŸ’ª Tips untuk Pemula

1. **Selalu gunakan try-catch** saat menggunakan async/await
2. **Berikan pesan error yang jelas** di blok catch
3. **Jangan biarkan error tidak tertangani** karena bisa crash aplikasi
4. **Log error** untuk memudahkan debugging: `console.error(error)`
5. **Praktik terus** dengan berbagai kasus error handling

---

## ğŸš€ Latihan

Coba modifikasi kode di atas:
- Ganti URL menjadi yang benar dan lihat hasilnya
- Tambahkan `console.log(error)` di dalam catch untuk melihat detail error
- Coba tambahkan penanganan error yang lebih spesifik

**Selamat belajar! ğŸ‰**
