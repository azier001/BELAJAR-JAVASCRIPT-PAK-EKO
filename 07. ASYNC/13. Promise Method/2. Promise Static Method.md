# ğŸ¯ Promise Static Method

> **ğŸ“š Panduan Lengkap untuk Pemula dalam Memahami Promise Static Method di JavaScript**

---

## ğŸ“– Apa itu Promise Static Method?

Promise memiliki beberapa **static method** yang sangat berguna untuk mengelola multiple promise secara bersamaan. Static method ini membantu kita menjalankan beberapa operasi asynchronous sekaligus dengan cara yang lebih efisien.

---

## ğŸ”¥ Method-Method Penting

### 1ï¸âƒ£ **Promise.all()**
- âœ… Digunakan untuk mengeksekusi **beberapa promise sekaligus**
- â³ Menunggu **semua promise selesai** baru memberikan hasil
- ğŸ“¦ Mengembalikan array berisi hasil dari semua promise
- âš ï¸ Jika **satu promise gagal**, maka seluruh operasi gagal

### 2ï¸âƒ£ **Promise.any()**
- âš¡ Digunakan untuk mengeksekusi **beberapa promise sekaligus**
- ğŸ† Mengambil hasil dari **promise yang paling cepat selesai**
- âœ¨ Mengabaikan promise yang gagal, selama ada satu yang berhasil
- âŒ Gagal hanya jika **semua promise gagal**

### 3ï¸âƒ£ **Promise.race()**
- ğŸ Mengambil hasil dari **promise yang selesai pertama kali**
- âš¡ Baik itu berhasil (resolve) maupun gagal (reject)
- ğŸ¯ Berguna untuk implementasi timeout

### 4ï¸âƒ£ **Dan lain-lain**
- ğŸ“š Masih ada method lainnya seperti `Promise.allSettled()`, `Promise.resolve()`, dan `Promise.reject()`

---

## ğŸ“š Dokumentasi Resmi

ğŸ”— [MDN Web Docs - Promise Static Methods](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise#static_methods)

---

## ğŸ“ Struktur Folder Project

Sebelum memulai, pastikan struktur folder project Anda seperti ini:

```
project/
â”‚
â”œâ”€â”€ index.html
â”‚
â””â”€â”€ api/
    â”œâ”€â”€ product1.json
    â”œâ”€â”€ product2.json
    â””â”€â”€ product3.json
```

---

## ğŸ“„ File JSON yang Dibutuhkan

### ğŸ“± **api/product1.json**

```json
{
  "id": "1",
  "name": "Iphone",
  "price": 30000000
}
```

---

### ğŸ“± **api/product2.json**

```json
{
  "id": "2",
  "name": "Samsung",
  "price": 20000000
}
```

---

### ğŸ“± **api/product3.json**

```json
{
  "id": "3",
  "name": "Xiaomi",
  "price": 10000000
}
```

---

## ğŸ’» Contoh Implementasi

### ğŸ—ï¸ **File: index.html**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Promise Method</title>
  </head>
  <body>
    <h1>ğŸ¯ Promise Static Method Demo</h1>
    
    <table border="1" cellpadding="10">
      <tbody>
        <tr>
          <td><strong>Id :</strong></td>
          <td id="id"></td>
        </tr>

        <tr>
          <td><strong>Name :</strong></td>
          <td id="name"></td>
        </tr>

        <tr>
          <td><strong>Price :</strong></td>
          <td id="price"></td>
        </tr>
      </tbody>
    </table>

    <script>
      // ğŸ”§ Function untuk mengambil data product dari API
      const getProduct = (product) => {
        return new Promise((resolve, reject) => {
          const ajax = new XMLHttpRequest();
          ajax.open('GET', `api/${product}.json`);

          ajax.onload = () => {
            if (ajax.status === 200) {
              resolve(ajax.responseText);
            } else {
              reject(`Error get product with response : ${ajax.status}`);
            }
          };

          ajax.send();
        });
      };

      // ğŸ¯ Pilih salah satu method di bawah ini untuk dicoba
      
      // ğŸ“ Contoh 1: Promise.all()
      // const promise = Promise.all([
      //   getProduct('product1'),
      //   getProduct('product2'),
      //   getProduct('product3'),
      // ]);

      // ğŸ“ Contoh 2: Promise.any()
      // const promise = Promise.any([
      //   getProduct('product1'),
      //   getProduct('product2'),
      //   getProduct('product3'),
      // ]);

      // ğŸ“ Contoh 3: Promise.race()
      // const promise = Promise.race([
      //   getProduct('product1'),
      //   getProduct('product2'),
      //   getProduct('product3'),
      // ]);

      // ğŸ“ Contoh 4: Promise.any() dengan error
      // const promise = Promise.any([
      //   getProduct('productsalah'),
      //   getProduct('product2'),
      //   getProduct('product3'),
      // ]);

      // ğŸ“ Contoh 5: Promise.race() dengan error
      const promise = Promise.race([
        getProduct('productsalah'),
        getProduct('product2'),
        getProduct('product3'),
      ]);

      promise.then((products) => console.log(products));
    </script>
  </body>
</html>
```

---

### ğŸ“ **Penjelasan Kode HTML:**

1. **ğŸ¨ Table HTML**
   - Membuat tabel untuk menampilkan data produk
   - Terdiri dari 3 field: `id`, `name`, dan `price`

2. **ğŸ”§ Function `getProduct()`**
   - Membuat Promise yang melakukan request AJAX ke file JSON
   - Parameter `product` menentukan file JSON mana yang akan diambil
   - âœ… **Resolve** jika request berhasil (status 200)
   - âŒ **Reject** jika request gagal

3. **âš™ï¸ XMLHttpRequest**
   - Digunakan untuk melakukan HTTP request
   - `ajax.open('GET', ...)` â†’ Membuka koneksi
   - `ajax.onload` â†’ Callback ketika request selesai
   - `ajax.send()` â†’ Mengirim request

---

## ğŸ“ Contoh Penggunaan Method

### ğŸ”¹ **1. Promise.all() - Tunggu Semua Selesai**

```javascript
const promise = Promise.all([
  getProduct('product1'),
  getProduct('product2'),
  getProduct('product3'),
]);

promise.then((products) => console.log(products));
```

#### ğŸ“¤ **Output:**
```javascript
[
  '{"id": "1", "name": "Iphone", "price": 30000000}',
  '{"id": "2", "name": "Samsung", "price": 20000000}',
  '{"id": "3", "name": "Xiaomi", "price": 10000000}'
]
```

#### ğŸ’¡ **Penjelasan:**
- â³ Menunggu **ketiga promise selesai semua**
- ğŸ“¦ Mengembalikan **array berisi semua hasil** sesuai urutan
- âš ï¸ Jika satu saja gagal, seluruh operasi gagal
- ğŸ¯ **Use Case:** Ketika butuh semua data produk lengkap sebelum ditampilkan

---

### ğŸ”¹ **2. Promise.any() - Ambil yang Tercepat (Sukses)**

```javascript
const promise = Promise.any([
  getProduct('product1'),
  getProduct('product2'),
  getProduct('product3'),
]);

promise.then((products) => console.log(products));
```

#### ğŸ“¤ **Output:**
```javascript
'{"id": "1", "name": "Iphone", "price": 30000000}'
```
*Output bisa berbeda tergantung promise mana yang selesai pertama*

#### ğŸ’¡ **Penjelasan:**
- ğŸ† Mengambil hasil dari promise yang **selesai pertama dengan sukses**
- âš¡ Lebih cepat karena tidak perlu menunggu semua selesai
- âœ… Tetap berhasil meski ada promise yang gagal (selama ada yang berhasil)
- ğŸ¯ **Use Case:** Menampilkan produk pertama yang berhasil dimuat

---

### ğŸ”¹ **3. Promise.race() - Ambil yang Pertama (Apapun Hasilnya)**

```javascript
const promise = Promise.race([
  getProduct('product1'),
  getProduct('product2'),
  getProduct('product3'),
]);

promise.then((products) => console.log(products));
```

#### ğŸ“¤ **Output:**
```javascript
'{"id": "1", "name": "Iphone", "price": 30000000}'
```
*Promise yang selesai pertama kali, entah sukses atau gagal*

#### ğŸ’¡ **Penjelasan:**
- ğŸ Mengambil hasil dari promise yang **selesai pertama**
- âš¡ Tidak peduli berhasil atau gagal
- ğŸ¯ **Use Case:** Implementasi timeout atau ambil respons tercepat dari multiple server

---

### ğŸ”¹ **4. Promise.any() dengan Ada yang Error**

```javascript
const promise = Promise.any([
  getProduct('productsalah'),  // âŒ File tidak ada â†’ Error
  getProduct('product2'),       // âœ… Berhasil
  getProduct('product3'),       // âœ… Berhasil
]);

promise.then((products) => console.log(products));
```

#### ğŸ“¤ **Output:**
```javascript
'{"id": "2", "name": "Samsung", "price": 20000000}'
```
*Atau*
```javascript
'{"id": "3", "name": "Xiaomi", "price": 10000000}'
```
*Tergantung mana yang selesai pertama di antara product2 dan product3*

#### ğŸ’¡ **Penjelasan:**
- âš ï¸ Meskipun `productsalah` error, `Promise.any()` tetap berhasil
- âœ… Mengambil hasil dari promise yang **berhasil pertama kali**
- ğŸ›¡ï¸ Error diabaikan selama masih ada promise yang berhasil
- ğŸ¯ **Use Case:** Request ke multiple API, ambil yang berhasil pertama

---

### ğŸ”¹ **5. Promise.race() dengan Ada yang Error**

```javascript
const promise = Promise.race([
  getProduct('productsalah'),  // âŒ File tidak ada â†’ Error
  getProduct('product2'),       // âœ… Berhasil
  getProduct('product3'),       // âœ… Berhasil
]);

promise.then((products) => console.log(products));
```

#### ğŸ“¤ **Output Kemungkinan 1 (Error selesai pertama):**
```javascript
// Uncaught (in promise) Error: Error get product with response : 404
```

#### ğŸ“¤ **Output Kemungkinan 2 (Sukses selesai pertama):**
```javascript
'{"id": "2", "name": "Samsung", "price": 20000000}'
```
*Atau*
```javascript
'{"id": "3", "name": "Xiaomi", "price": 10000000}'
```

#### ğŸ’¡ **Penjelasan:**
- âš¡ `Promise.race()` mengambil yang **selesai pertama**, apapun hasilnya
- âŒ Jika yang pertama selesai adalah error, maka hasilnya error
- âœ… Jika yang pertama selesai adalah sukses, maka hasilnya sukses
- ğŸ¯ **Use Case:** Timeout implementation - batalkan request jika terlalu lama

---

## ğŸ¯ Kapan Menggunakan Method Mana?

| Method | Kapan Digunakan | Contoh Real Case | Emoji |
|--------|----------------|------------------|-------|
| **Promise.all()** | Butuh **semua data lengkap** | Load 10 produk sekaligus di homepage | â³ |
| **Promise.any()** | Cukup **satu yang berhasil** | Cek server mana yang online (backup server) | ğŸ† |
| **Promise.race()** | Butuh **hasil tercepat** | Timeout: batalkan jika lebih dari 5 detik | ğŸ |

---

## ğŸ“Œ Kesimpulan

| Method | Karakteristik | Hasil |
|--------|---------------|-------|
| **Promise.all()** | Tunggu semua selesai | âœ… Array semua hasil / âŒ Error jika ada 1 gagal |
| **Promise.any()** | Ambil yang tercepat berhasil | âœ… Hasil pertama sukses / âŒ Error jika semua gagal |
| **Promise.race()** | Ambil yang pertama selesai | âœ… atau âŒ Hasil pertama (apapun itu) |

---

## ğŸš€ Langkah-Langkah Belajar untuk Pemula

### **Step 1: Persiapan** ğŸ“
1. Buat folder `project` 
2. Di dalamnya buat folder `api`
3. Buat 3 file JSON (product1.json, product2.json, product3.json)
4. Buat file `index.html`

### **Step 2: Testing** ğŸ§ª
1. Buka `index.html` di browser
2. Buka Console (F12 / Inspect Element)
3. Uncomment satu method untuk dicoba
4. Refresh halaman dan lihat hasilnya di console

### **Step 3: Eksperimen** ğŸ”¬
1. Coba satu per satu method
2. Bandingkan outputnya
3. Ubah urutan promise
4. Coba dengan file yang tidak ada untuk melihat error

### **Step 4: Praktek** ğŸ’ª
1. Modifikasi data JSON
2. Tambahkan product4.json
3. Coba kombinasi promise yang berbeda
4. Buat handling error dengan `.catch()`

---

## ğŸ Bonus: Handle Error dengan Baik

```javascript
const promise = Promise.all([
  getProduct('product1'),
  getProduct('product2'),
  getProduct('product3'),
]);

promise
  .then((products) => {
    console.log('âœ… Berhasil:', products);
  })
  .catch((error) => {
    console.error('âŒ Error:', error);
  });
```

---

## ğŸ’¡ Tips Penting

1. ğŸ“– **Pahami Promise Dasar** dulu sebelum belajar static method
2. ğŸ§ª **Eksperimen** dengan mengubah-ubah contoh code
3. ğŸ” **Perhatikan perbedaan** output dari setiap method
4. ğŸ“Š **Gunakan console.log()** untuk melihat hasil
5. âš ï¸ **Selalu handle error** dengan `.catch()`
6. ğŸ¯ **Pilih method yang tepat** sesuai kebutuhan
7. ğŸ’ª **Practice makes perfect** - terus latihan!

---

**ğŸ‰ Selamat Belajar! Happy Coding! ğŸ’»âœ¨**
