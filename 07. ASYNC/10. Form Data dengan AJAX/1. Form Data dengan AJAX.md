# ğŸ“‹ Form Data dengan AJAX

## ğŸ¯ Apa itu Form Data?

**Form Data** adalah salah satu cara untuk mengirim data dari form HTML ke server. Selain menggunakan JSON dan Query Parameters, kita juga bisa mengirim data dalam format form data.

---

## ğŸ”‘ Konsep Penting

### ğŸ“¤ Mengirim Form Data dengan AJAX

- Selain JSON dan Query Param, kadang kita juga mengirim **Form Data** dari Client ke Server menggunakan AJAX
- Untuk kasus ini kita tetap bisa menggunakan **URLSearchParam**
- Namun object URLSearchParam nya kita kirim di method **send()**

### ğŸ“ Perbedaan dengan JSON

| Format | Content-Type | Penggunaan |
|--------|--------------|------------|
| JSON | `application/json` | Data kompleks, nested object |
| Form Data | `application/x-www-form-urlencoded` | Data form sederhana |

---

## ğŸ’» Contoh Lengkap: Form Login

### ğŸ“„ Kode HTML

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ajax Send Form</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <form>
      <label for="username"
        >Username :
        <input type="text" id="username" name="username" />
      </label>

      <br />

      <label for="password"
        >Password :
        <input type="password" name="password" id="password" />
      </label>

      <br />

      <input type="button" value="Login" id="login" />
    </form>

    <h1 id="response"></h1>

    <script>
      document.querySelector('#login').addEventListener('click', () => {
        const ajax = new XMLHttpRequest();
        ajax.open('POST', 'https://jsonplaceholder.typicode.com/posts');

        ajax.addEventListener('load', () => {
          document.querySelector('#response').textContent = ajax.responseText;
        });

        ajax.setRequestHeader(
          'Content-Type',
          'application/x-www-form-urlencoded'
        );

        const form = new URLSearchParams();
        form.append('username', document.querySelector('#username').value);
        form.append('password', document.querySelector('#password').value);

        ajax.send(form);
      });
    </script>
  </body>
</html>
```

---

## ğŸ” Penjelasan Kode Step by Step

### 1ï¸âƒ£ **Membuat Form HTML**

```html
<form>
  <label for="username">
    Username :
    <input type="text" id="username" name="username" />
  </label>
  
  <br />
  
  <label for="password">
    Password :
    <input type="password" name="password" id="password" />
  </label>
  
  <br />
  
  <input type="button" value="Login" id="login" />
</form>
```

**ğŸ“Œ Penjelasan:**
- Membuat form dengan 2 input field: username dan password
- Tombol login menggunakan `type="button"` (bukan submit) agar tidak reload halaman
- Setiap input memiliki `id` untuk memudahkan akses dengan JavaScript

---

### 2ï¸âƒ£ **Membuat Elemen untuk Menampilkan Response**

```html
<h1 id="response"></h1>
```

**ğŸ“Œ Penjelasan:**
- Elemen ini akan digunakan untuk menampilkan response dari server
- Menggunakan `id="response"` agar mudah diakses dengan JavaScript

---

### 3ï¸âƒ£ **Menambahkan Event Click pada Tombol**

```javascript
document.querySelector('#login').addEventListener('click', () => {
  // Kode di dalam sini akan dijalankan saat tombol diklik
});
```

**ğŸ“Œ Penjelasan:**
- Langsung mengambil tombol dengan `querySelector('#login')` dan menambahkan event listener
- Ketika tombol diklik, fungsi di dalam `addEventListener` akan dijalankan
- Lebih efisien karena tidak perlu variabel tambahan

---

### 4ï¸âƒ£ **Membuat XMLHttpRequest**

```javascript
const ajax = new XMLHttpRequest();
ajax.open('POST', 'https://jsonplaceholder.typicode.com/posts');
```

**ğŸ“Œ Penjelasan:**
- `new XMLHttpRequest()` membuat object AJAX baru
- `open('POST', url)` menentukan method POST dan URL tujuan
- Menggunakan POST karena mengirim data sensitif (password)

---

### 5ï¸âƒ£ **Menambahkan Event Listener untuk Response**

```javascript
ajax.addEventListener('load', () => {
  document.querySelector('#response').textContent = ajax.responseText;
});
```

**ğŸ“Œ Penjelasan:**
- Event `load` akan dipanggil ketika request selesai
- `ajax.responseText` berisi response dari server dalam bentuk text
- Langsung menampilkan response pada elemen h1 tanpa variabel tambahan

---

### 6ï¸âƒ£ **Set Header Content-Type**

```javascript
ajax.setRequestHeader(
  'Content-Type',
  'application/x-www-form-urlencoded'
);
```

**ğŸ“Œ Penjelasan:**
- **PENTING!** Header ini memberitahu server bahwa kita mengirim data dalam format form
- `application/x-www-form-urlencoded` adalah format standar untuk form data
- Tanpa header ini, server mungkin tidak bisa membaca data dengan benar

---

### 7ï¸âƒ£ **Membuat URLSearchParams dan Mengirim Data**

```javascript
const form = new URLSearchParams();
form.append('username', document.querySelector('#username').value);
form.append('password', document.querySelector('#password').value);

ajax.send(form);
```

**ğŸ“Œ Penjelasan:**
- `new URLSearchParams()` membuat object untuk menyimpan form data
- `form.append(key, value)` menambahkan data ke dalam form
  - Key: nama field (username, password)
  - Value: langsung mengambil nilai dari input dengan `.value`
- `ajax.send(form)` mengirim data ke server

**ğŸ”„ Format Data yang Dikirim:**
```
username=john&password=secret123
```

---

## ğŸ¬ Output dan Hasil

### âœ… Tampilan Form

```
Username : [         ]
Password : [         ]
         [  Login  ]
```

### ğŸ”„ Proses yang Terjadi

1. **User mengisi form:**
   - Username: `john`
   - Password: `secret123`

2. **User klik tombol Login**

3. **JavaScript mengirim data ke server:**
   ```
   username=john&password=secret123
   ```

4. **Server merespon dengan JSON:**
   ```json
   {
     "username": "john",
     "password": "secret123",
     "id": 101
   }
   ```

5. **Response ditampilkan di halaman:**
   ```
   {"username":"john","password":"secret123","id":101}
   ```

---

## ğŸ“Š Visualisasi Alur Kerja

```
[User Input] â†’ [Click Login] â†’ [JavaScript]
                                    â†“
                              [URLSearchParams]
                                    â†“
                              [AJAX POST]
                                    â†“
                              [Server API]
                                    â†“
                              [Response JSON]
                                    â†“
                              [Tampil di <h1>]
```

---

## âš ï¸ Catatan Penting

### ğŸ”’ Security

> **Warning:** Contoh ini hanya untuk pembelajaran! Di aplikasi nyata:
> - Jangan tampilkan password di response
> - Gunakan HTTPS (bukan HTTP)
> - Tambahkan validasi di server
> - Gunakan authentication token

### ğŸ“ Best Practices

- âœ… Gunakan `URLSearchParams` untuk form data sederhana
- âœ… Set Content-Type yang benar
- âœ… Gunakan POST untuk data sensitif
- âœ… Tambahkan error handling
- âœ… Validasi input sebelum dikirim

---

## ğŸ¯ Kapan Menggunakan Form Data?

### âœ… Gunakan Form Data Ketika:

- Mengirim data dari HTML form tradisional
- Data sederhana (key-value pairs)
- Upload file (gunakan FormData, bukan URLSearchParams)
- Kompatibilitas dengan sistem lama

### âŒ Jangan Gunakan Form Data Ketika:

- Data kompleks dengan nested object
- Perlu mengirim array atau object
- Aplikasi modern yang menggunakan JSON API
- Data dalam format yang tidak standard

---

## ğŸš€ Kesimpulan

Kamu sudah belajar:
- âœ… Cara mengirim form data dengan AJAX
- âœ… Menggunakan URLSearchParams
- âœ… Set Content-Type header dengan benar
- âœ… Menampilkan response dari server
- âœ… Membuat form login sederhana

**Next Step:** Coba tambahkan validasi input dan error handling! ğŸ’ª
